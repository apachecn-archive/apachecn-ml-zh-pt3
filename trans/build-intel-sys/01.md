# 1.智能系统简介

智能系统就在我们周围。在我们的灯泡里。在我们的车里。在我们的手表里。在我们的恒温器里。在我们的电脑里。我们如何让他们做让我们生活更美好的事情？让我们高兴？

灯泡应该什么时候打开？电子商务网站应该在什么时候向我们展示特定的产品？什么时候搜索引擎应该把我们带到一个特定的网站？演讲者应该在什么时候播放音乐？

回答这样的问题，并且回答得非常好，是释放智能系统价值的基础。这真的很难。

世界上一些最大、最有价值的公司的核心业务都围绕着回答一些简单的问题，比如:

*   基于一个简短的查询，我应该显示什么网页？
*   在特定的环境下，我应该展示什么样的广告？
*   我应该向这位顾客展示什么产品？
*   这个用户现在会喜欢什么电影？
*   这个人想读什么书？
*   哪些新闻故事最能引起人们的兴趣？
*   为了保证计算机安全，我应该阻止哪些程序运行？

对这些问题中的每一个都回答得“足够好”已经让公司价值数十亿美元，在某些情况下甚至数千亿美元。这是通过让许多人变得更聪明、更有效率、更快乐、更安全来实现的。但这只是冰山一角。我们可以尝试回答成千上万个类似的问题:我的前门应该什么时候开锁？一个健身 app 接下来应该建议做什么运动？艺人接下来应该写什么类型的歌？一款游戏应该如何进化才能让玩家参与度最大化？

这本书是关于可靠和有效地释放智能系统的潜力。

## 智能系统的要素

智能系统将用户与人工智能(机器学习)联系起来，以实现有意义的目标。智能系统是一个智能随着时间的推移而发展和提高的系统，特别是当智能通过观察用户如何与系统交互而提高时。

成功的智能系统具备以下所有条件:

*   有意义的目标。一个智能系统必须有一个存在的理由，一个对用户有意义并能实现你的目标的理由，一个你能够构建并运行的智能系统能够实现的理由。选择一个目标是取得成功的关键部分，但这并不容易做到。这本书的第一部分将帮助你理解智能系统做什么，这样你就知道什么时候你应该使用它，以及你应该为它设定什么样的目标。
*   智能体验。智能体验必须获取系统智能的输出(如其机器学习做出的预测)，并将其呈现给用户，以实现预期的结果。要做到这一点，它必须有一个基于预测进行调整的用户界面，并在它正确时让智能发光——同时在它出错时最小化它犯错误的成本。智能体验还必须从用户那里获得隐式和显式的反馈，以帮助系统随着时间的推移提高其智能。这本书的第二部分将探索智能体验，将用户与智能联系起来的选项和陷阱。
*   智能的实现。智能系统实施包括执行智能、将智能移动到需要的位置、管理智能、点亮基于智能的体验、收集遥测数据以验证系统运行以及收集用户反馈以随着时间的推移改进智能所需的一切。本书的第三部分描述了智能实现的所有组件。它将帮助你设计和实现一个你自己的智能系统。
*   智能创造。智能系统就是为成功设置智能。这种智能可以来自许多不同的地方，从简单的启发式到复杂的机器学习。必须对情报进行组织，以便正确的情报类型能够解决问题的正确部分，并且可以由一组人长时间有效地创建。本书的第四部分讨论了为互联网规模的智能系统创造和发展智能的行为。它将帮助你准备好利用所有可用的方法并取得成功。
*   配器。一个智能系统会随着时间的推移而存在，它的所有元素必须保持平衡才能实现它的目标。这种协调包括控制系统如何变化，保持体验与智能质量同步，决定收集哪些遥测数据来跟踪和消除问题，以及花费多少钱来构建和部署新的智能。它还包括处理错误、控制风险和消除滥用。这本书的第五部分解释了编排一个智能系统并通过其生命周期的所有阶段实现其目标所需要的一切。

智能系统是在实践中应用机器学习的一种方式。智能系统利用智能(通过机器学习和其他方法产生)并利用和支持它来实现您的目标并随着时间的推移而改进。

## 一个示例智能系统

智能系统可能被用来实现搜索引擎、电子商务网站、无人驾驶汽车和计算机视觉系统，这些系统可以跟踪人体并知道一个人是谁以及他们何时在微笑。但是这些都是庞大而复杂的系统。

让我们看一个简单得多的例子，看看一个解决方案如何从传统系统发展成智能系统。

### 互联网烤面包机

让我们考虑一个联网的智能烤面包机。好主意？也许是，也许不是。但是让我们考虑一下。我们的烤面包机有两个控制器:一个控制烘烤强度的滑块和一个启动烘烤的杠杆。

这似乎很简单。烤面包机的智能只需要将强度滑块的设置映射到烘烤时间。在较低的设置下，烤面包机可以运行 30 秒。在高设置下，烤面包机运行两分钟。诸如此类的事情。

所以坐下来，想一会儿，想出一些烤面包时间的设置，然后把烤面包机送给顾客。什么会出错？

嗯，如果你选择一个最大的烘烤强度，烘烤时间太长的话，可能会烧焦烘烤的东西。大多数使用这种设置的顾客会不高兴，扔掉他们的煤渣面包，然后重新开始。

你可以想象其他失败的案例，所有烤面包的小烦恼导致顾客站在他们的烤面包机前，手放在杠杆上，准备缩短烤面包。或者顾客反复烘烤同一块面包，每次烤一点，以达到他们喜欢的方式。

这可不好。如果我们要造一个烤面包机，我们希望造一个真正好的。

因此，我们可能会做一些测试，调整烤面包机，直到高低设置都可以做出我们认为理想的烤面包。不要太脆，也不要太凉。

太好了。

我们做对了吗？这台烤面包机能满足顾客的需求吗？

很难知道。无论我们一生中吃了多少烤面包，都无法证明我们已经为所有顾客想要制作的所有类型的烤面包做好了正确的设置。

因此，我们意识到我们需要将他人的意见和经验融入到我们的烤面包机制造过程中。但是怎么做呢？

也许我们可以从焦点小组开始。找来几十个烤面包的人，把他们放在一个烤面包的实验室里，在他们烤面包的时候做笔记。

然后，我们再次调整敬酒时间设置，以反映这些志愿者敬酒的方式。现在我们有完美的烤面包机了吗？这个焦点小组调整的烤面包机能做出全世界成千上万人想要的烤面包吗？

如果有人把冷冻的东西放进烤面包机里怎么办？或者冰箱里的东西？或者如果有人有做烤面包机的传统呢？或者，如果有人发明了一种新的烤面包机产品，与人类以前烘烤过的任何东西都不一样，会怎么样？我们的烤面包机适合所有这些情况吗？大概不会。

### 用数据来烤面包

所以，也许制作一台完美的烤面包机比仅仅问几个人喜欢什么要难一些。

如果我们想在每一种可能的情况下都得到完美的吐司，那么有太多的用例需要手工优化。我们可以在以后的日子里每天都组织焦点小组，但我们仍然不会看到烤面包机可能做出的所有类型的面包。

我们需要做得更好。是时候进行一些严肃的数据科学了。

烤面包机是联网的，所以我们可以编程让它把遥测数据发回给我们。每次有人烤面包时，我们可以知道他们用了什么设置，以及烤面包持续了多长时间才停止。

我们发布了烤面包机的第一版(可能是一组受控的用户)，烤面包机的遥测技术开始涌入我们的服务器。

现在我们确切地知道了人们在现实生活中使用的强度设置(而不是在一些人为的实验室设置中)。我们知道人们按下控制杆多少次来开始烤面包工作，以及他们弹出控制杆多少次来提前停止烤面包工作。

我们能利用这些数据制造更好的烤面包机吗？

当然啦！

我们可以将最大强度设置为至少有几个用户正在使用的东西。然后，我们可以设置指标，以确保我们不会让烤面包机偏向于过度烘烤。例如，我们可以监控被用户提前停止的烤面包的百分比(大概是因为他们要烧东西了)，并不断调整直到我们控制住这些。

我们也可以把最小强度设置得合理一些。用户似乎使用的东西。我们可以跟踪双烤率(有人烤了东西，然后马上重新烤)，并调整以确保烤面包机不会偏向烤不足。

见鬼，我们甚至可以设置默认的强度，范围中间的那个，为最常用的烤面包时间。

因为我们的烤面包机是联网的，我们可以通过让它们从我们的服务器上下载数据来更新它们的设置。见鬼，我们可以每天调整烤面包机的设置，周日调整两次——这是一个充满奇迹的时代！

这种方法有一些漏洞，一些我们必须假设的事情。例如，我们不得不假设快速连续烘烤多次是失败的标志，顾客正在重新烘烤同一个面包，而不是快速烘烤几片面包。

我们不得不假设提前停止是面包开始烧焦的信号，而不是顾客上班迟到并匆忙出门的信号。

此外，当我们将新设置部署到烤面包机时，我们如何确保用户会喜欢它们？我们非常确定(基于数据科学)，新的设置更好地匹配了我们的整体用户群正在做的事情，所以这很好。

但是，如果用户昨天还在吃自己品牌的完美烤百吉饼，今天却吃到了……不同的东西，那该怎么办呢？

尽管有这些问题，我们还是有一个相当不错的烤面包机。我们有遥测技术知道烤面包机大致完成了它的工作。我们已经找到了一种方法来维护它，并随着时间的推移不断改进它。现在让我们真的把门炸开。

### 传感器和启发式智能

如果我们想做出最好的烤面包机，我们需要的不仅仅是一个滑块和一个烤面包杆。让我们添加一些传感器:

*   重量传感器知道烤面包机里有多少面包片，并确定顾客什么时候把东西放进烤面包机，什么时候把东西拿出来。
*   一个温度传感器，以了解放在烤面包机中的物品是冷藏的、冷冻的还是室温的。
*   一个位置传感器可以知道烤面包机在世界的哪个地区，这样它就可以适应不同地区的不同口味。
*   一个接近传感器可以知道是否有人在烤面包机附近，一个摄像头可以识别是谁。
*   一个时钟来判断一个吐司是早餐还是晚餐。
*   一点记忆，知道最近烤了什么，并监控环境变化和烘烤的模式。
*   一个烟雾传感器，当烤面包机犯了一个严重的错误，将要烧焦东西时，它就会知道。

现在，当顾客走到烤面包机前，把东西放进烤面包机时，烤面包机可以看看用户是谁，试着猜测他们想烤什么，并自动建议设置。

见鬼，如果烤面包机足够好，就根本不再需要强度设置或烘烤杆。我们可以更新敬酒体验，使之完全自动化。我们可以运送没有按钮或旋钮或任何东西的烤面包机。顾客丢下东西，走开，然后回来愉快地烘烤——任何东西！

如果我们能找到一种方法，将所有这些传感器读数转化为正确的烘烤时间，不管是什么。

要做到这一点，我们需要智能——做出这些类型决策的程序或规则或机器学习模型。

让我们简单地从手工制作一些智能开始。

让我们编写一组考虑传感器读数和输出强度建议的规则。举个例子:如果把又冷又重的东西放进烤面包机，然后高强度烘烤 5 分钟。但是对于冰点以上的每一度，减少 2 秒钟的烘烤时间。但是在英国，烤面包时间要增加 15 秒(因为他们喜欢那样)。但是，如果重量和大小与已知的烤面包机产品(一些大品牌的烤面包机餐)相匹配，那么根据产品的说明烘烤它“合适的时间”。

诸如此类的东西。

每当用户抱怨，因为烤面包机烤错了东西，你可以添加一个新的规则。

每当遥测显示双吐司的峰值，你可以调整规则来改善。

每次你添加一个新规则或者更新一个旧规则，你可以通过让他们从你的服务器下载新设置来更新你运送到世界各地的所有烤面包机。

使用这种方法，您可能需要编写和维护许多规则来处理所有的可能性。会有很多工作要做。你可以雇佣十几个人，给他们几个月的时间写规则，但你可能对结果不满意。

你可能永远不会。

### 用机器学习敬酒

在这种情况下，如果有一个优化问题太难或太昂贵而无法用手来解决，人们就会求助于机器学习。

在高层次上，机器学习可以观察用户使用互联网烤面包机的例子，并自动产生一套规则，以用户想要的方式控制烤面包机。有点像我们刚刚谈到的手工制作的启发式，只是机器制作的。

机器可以制定比人类更多的规则。机器可以平衡来自几十个传感器的输入；他们可以同时针对成千上万不同类型的用户进行优化。他们可以每天、每小时整合新数据并重新优化一切，有时甚至更快。他们可以针对每个用户个性化规则。

为了工作，机器学习需要数据来显示用户面临的情况(传感器读数)、他们采取的行动(他们如何设置烤面包机)以及他们获得的结果(如果他们喜欢烤面包或不得不调整某些东西并再试一次)。机器学习需要事情何时变好的例子，以及事情何时变坏的例子。很多很多这样的例子。

为了找到事情进展顺利的例子，我们可以通过遥测技术查看用户将东西放入烤面包机、按下启动杆、等待完成、取出物品并走开的时间。在这些情况下，用户可能得到了他们想要的东西。我们有所有传感器设置和烘烤时间的记录。我们可以用这个作为机器学习系统的训练。完美。

为了举例说明什么时候出了问题，我们可以再次查看遥测数据。这一次，我们发现了用户不得不摆弄烤面包机的所有地方，每次他们提前停止烤面包机或者多次重新品尝同一物品。我们有传感器读数和强度设置的记录，这些记录也给用户带来了不好的结果。

所以结合好的结果和坏的结果以及一些机器学习，我们可以自动训练完美的烤面包机控制算法。

输入数据，拿出一个程序，查看传感器读数，确定最佳强度和时间设置。

我们将这一学习计划推广到客户的烤面包机上。

我们可以每天每分钟都这样做。

我们可以从成千上万的客户互动中学习——从数以亿计的客户互动中学习。

神奇！

## 制造智能系统

这就是智能系统所做的。构建一个有效的智能系统需要平衡五个主要部分:目标、体验、实现、智能和协调。

我们需要一个适合用智能系统解决的问题，并且值得努力。我们需要根据智能的想法来控制烤面包机。我们需要以一种用户觉得有帮助的方式来做，我们也需要给用户正确的控制来与烤面包机互动，并给出我们可以用来学习的反馈。我们需要建立所有的服务、工具和代码来收集遥测数据，产生智能，将它移动到需要的地方，并将它与用户联系起来。

我们需要每天以一种可预测的方式一遍又一遍地创造智慧。随着新产品进入市场和口味的改变，我们需要保持一切运转。

我们需要决定我们应该收集多少遥测数据，以权衡运营成本和潜在价值。我们需要决定在某一天对智能进行多大程度的改变，以使烤面包机有所改进，但又不会让用户感到困惑或不安。

我们需要监控我们的关键指标，并在它们开始下降时做出反应。或许调整一下体验？或许打电话给紧急情报部门？我们需要处理错误。错误时有发生。

智能(尤其是机器学习的智能)可能会犯严重的错误——惊人的、反直觉的、高度损害客户的错误。

例如，我们的烤面包机可能知道特定邮政编码的人喜欢煤渣烤面包。不管你在里面放了什么，如果你住在那个邮编为 cinder 的地方。因此，我们需要找到识别和管理这些错误的方法。我们需要给机器学习设置护栏的方法。

不幸的是，人就是人。任何时候我们使用人类的反馈来优化一些东西——比如使用机器学习来制造烤面包机——我们都必须考虑人类可能从出错中受益的所有方式。

想象一下，一家大型面包制造商付钱给一家血汗工厂，让他们用疯狂的设置烘烤竞争对手的产品。他们可以每周进行数百万次祝酒，用误导的数据淹没我们的遥测系统。我们的机器学习可能会发现这一点，并“学习”这个烤面包黑客试图教给它的东西——我们的烤面包器可能会开始经常性地对竞争对手的产品烹饪不足，导致食品安全问题。

不太好。

一个成功的智能系统必须考虑所有这些问题，甚至更多。

## 摘要

本章介绍了智能系统以及每个智能系统必须解决的五个关键概念挑战——目标、体验、实现、智能和协调。

现在应该清楚的是，应对这些挑战有许多方法，而且它们是高度相互关联的。要有一个成功的智能系统，你必须平衡它们。如果一个概念上的挑战在你的环境中是困难的，其他的就需要更加努力来弥补它。

例如，如果你试图将一个智能系统改造成一个已经定义了体验(并且不能改变)的现有系统，智能系统可能需要接受一个不太激进的目标，在智能上投入更多，或者有一个更全面的错误缓解策略。

但是从另一个角度来看:成功的方法有很多。

部署一个智能系统，发现智能问题比你想象的难？没必要惊慌。有很多方法可以补偿和制造一个系统，让客户高兴，帮助你的业务，而情报需要时间来增长。

本书的其余部分将会给你自信地接近智能系统项目的工具。

## 供思考…

阅读本章后，您应该能够:

*   识别你周围世界的智能系统。
*   了解智能系统可以释放的潜力。
*   理解智能(对世界做出预测)和智能系统(结合目标、经验、实现、智能和协调以实现结果)之间的区别。
*   阐明所有你需要解决的概念上的难题，以建立一个成功的智能系统。
*   理解这些困难的事情是如何相互作用的，包括一些权衡以及它们相互支持的方式。

你应该能够回答这样的问题:

*   您使用的哪些服务(您怀疑)是通过将客户数据转化为情报而构建的？
*   你使用这些服务的最神奇的经历是什么？
*   你有过的最糟糕的经历是什么？
*   你能确定用户体验是如何支持智能的吗？
*   你能找到任何关于它的智力是如何产生的信息吗？也许在新闻报道或出版物中？
*   你能确定它检测和减少情报错误的方法吗？