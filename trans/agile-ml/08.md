# 8.可持续发展

> *敏捷流程推动* ***可持续发展*** *。发起人、开发人员和用户应该能够无限期地保持恒定的步调。*
> 
> *—agilemanifesto.org/principles*

VentureBeat.Com 记者 Alex Banayan 这样描述必应的微软执行副总裁陆弃:

陆弃(音:chee loo)在上海郊外一个没有自来水和电的村子里长大，他从未想到有一天自己会在全球最大的科技公司之一拥有一间角落办公室。作为微软在线服务部门的总裁，陆(音译)之所以能一路高歌猛进，要归功于他的同事们所称的“齐时间”。

“在大学期间，我的睡眠时间真的开始困扰我，”陆向我解释道。“有那么多书可以读，有那么多东西可以学。对人类来说，我们 20%的时间(在睡眠中)都被浪费了，因为你没有把这些时间用在你关心的事情上。”

尽管卢承认这并不容易，但他通过一种不同寻常的养生方法，从定时洗冷水澡到每天跑三英里，让自己的身体每晚睡四个小时。

在一种不同寻常的渴望的驱使下，陆的睡眠时间表每周增加了一天的工作时间，这相当于每个日历年增加了近两个月的生产力。他还在上大学的时候就这么做了。

作为 Bing Local 的一员，我们在齐的组织中工作，见证了他惊人的长时间工作的能力。同事们会看到齐在一大早或者周末和节假日在大楼里跑圈。最终，齐惊人的工作能力给必应带来了一定的紧迫感和更多的工作时间。没有组织期望任何人都像齐一样长时间工作，但他长时间工作的能力无疑推动了一种人们渴望工作而不是基本的朝九晚五时间表的文化。

但比起齐的长时间工作，试图“打败谷歌”的战斗口号可能是一个更大的激励因素，自然地驱使人们，特别是那些有竞争力的人，工作更长时间。对技术的热爱和对正在解决的问题的着迷也共同推动了适量的参与和紧迫感。

在我们工作过的其他团队中，我们目睹了相反的问题——缺乏紧迫感，人们似乎工作时间更短了。在一个远程办公和虚拟专用网络的世界里，任何人都可以在一天中的任何给定时间工作，仅仅通过人们在办公室呆多长时间来衡量工作的强度和工作量是很困难的。但是在紧迫性不高的团队中，驱动可持续发展的相反端的常见问题是缺乏远见、关于时间表和何时需要完成什么的期望的沟通不畅，以及令人沮丧和没有回报的编程环境和开发人员体验。

## 我们是否走在正确的可持续发展道路上？

那么，你如何确定团队的步伐是太快且不可持续，还是太慢且不可持续呢？通常，确定团队处于不可持续的速度要容易得多。常见的迹象不仅包括连续长时间工作，还包括脾气暴躁、团队生病、决策失误、士气低落、宿命论和黑色幽默。

确定团队的步调太慢更加棘手。常见的迹象不仅包括持续的短日短周，还包括脾气暴躁、团队生病、决策失误、士气低落、宿命论和黑色幽默。

是的，这不是印刷错误——可持续速度和不可持续速度的标志通常是相同的。衡量你是否走在正确的可持续发展的步伐上的一个更好的方法是确定人们是否参与并对工作充满热情。参与和热情自然会产生大量的工作。

微软有一项年度民意调查，在调查中他们测量了一些他们称之为“参与指数”的东西敬业度指数由几个部分组成，但热情是通过以下问题来衡量的:

*   人们会超越他们的日常工作职责来帮助团队成功吗？

*   大多数日子来上班你都很兴奋吗？

*   你大部分时间都在做你真正喜欢的工作吗？

当团队在做他们感到兴奋和享受的工作时，他们保持的速度将是可持续的。

### 放慢速度

不可持续的速度是由法令或业务需求所迫使的，只能通过长时间工作来满足。显然，你不能总是避免这类事情的发生——但是你可以努力消除法令和不合理的要求。通常，这是通过更好地向业务部门传达在一段时间内完成哪些任务具有合理的挑战性，哪些任务是不可能的来实现的。真正理解软件增量开发的团队会努力建立有意义的常规目标，这些目标既有挑战性又是可实现的。

在机器学习项目中，包括业务在内的整个团队必须理解的一个具有挑战性的事情是对模型进行改进的速度。通常，在开发过程的早期，模型会快速改进到特定的水平。但是，一旦模型达到高水平的性能，未来的运动就更加困难。将模型从 90%精度移动到 95%精度的成本通常是将模型从 70%精度移动到 90%精度的两倍。

帮助企业理解这一点的一个方法是，定期与他们一起审查对正在发运的模型进行测量的改进，并在时间线上绘制这些改进。随着时间的推移，通过重复暴露在特定领域中取得的进展速度，团队和业务将会对在给定的时间内期望多少改进有信心。可能会出现一些经验法则。

在 Bing 中，我们在模型的精确度和召回率方面落后于 Google 的领域，随着时间的推移，我们制定了一条经验法则，通常我们可以在 6 个月内将与 Google 的差距减半。如果改进模型的目标落后于这个水平，我们会推动提高它。不幸的是，这条定律也适用于相反的情况——在我们领先于谷歌的领域，他们通常也可以在 6 个月的时间内将差距减半。因此，在我们领先的领域，继续取得进展也很重要。

另一个经验法则是，你越接近 100%的精确度和 100%的回忆(显然不可能)，你就越怀疑在一段时间内进行多点攀登。从 97%的准确率和 97%的召回率到 98%的准确率和 98%的召回率并不是不可能的，但每个人都有一个健康的方面，即面对我们嘈杂的数据源，获得这样一个点是多么具有挑战性。

### 演示可能是危险的

团队经常陷入的一个陷阱是向业务部门展示华而不实但最终无法实现的演示，这表明可能需要几个月才能实现的事情在几周内就可以实现。当演示那些需要大量工作才能应用于所有可能的输入，或者需要很长时间才能达到高性能、可伸缩性、合规性或体系结构上足够完善才能转化为实际产品的特性时，要非常小心。我们经常遇到这样的情况，一个半生不熟的演示向业务部门传达了一个看起来很突出的功能，却发现要花几个月甚至几年的时间才能实现演示中展示的承诺。

### 加快步伐

我们在上一节所说的一切也适用于调整步速。度量目标也可能不够激进。在目标明显低于经验法则的领域，团队推动自己提高目标。如果很明显，目标将在比最初预期更短的时间内实现，则该目标将在 6 个月内上调。

同样重要的是，要解决缺乏参与的根本原因，这是进展缓慢的核心问题。深入探究为什么人们不超越他们的日常工作职责来帮助团队取得成功。常见的原因可能是人们觉得没有权力自己做决定，或者他们觉得被排除在团队决策和设计讨论之外。团队成员可能觉得他们没有参与目标设定过程。混合自上而下的目标和自下而上的目标有助于团队更加投入。

如果团队中有很大一部分人报告说他们大部分时间对工作不感兴趣，那么团队应该反思是什么导致了这种不感兴趣。是开发者体验吗？分配一些开发时间来关注开发人员体验中的问题，并改进工具和流程。人们不会对这一愿景感到兴奋吗？尝试阐明并帮助人们了解团队正在努力实现的目标，以及为什么它会对世界产生重大影响。有时，你可能会发现你所在的地区没有人们感兴趣的工作，这是一个鼓励人们找到他们感兴趣的工作的机会，并招募对你的问题领域有天然亲和力和兴趣的新人。

偶尔的法令和更严格的要求也不全是坏事。有时一个艰难的日期或一个必须做某事或业务面临风险的命令可以帮助团队团结起来，朝着“我们都在一起”的心态前进。例如，微软和整个计算机行业在 2018 年 5 月 25 日面临一个艰难的最后期限，以确保所有服务都符合 GDPR。随着截止日期的临近，团队意识到要满足 GDPR 指导方针还有很多工作要做，我们见证了微软周围的团队重整旗鼓迎接挑战。在此期间，尽管工作时间更长，但参与度仍有所增加，因为人们可以真正看到他们参与了值得骄傲的事情——确保个人隐私不受大型技术的影响。

## 节奏变化的重要性

即使是一个可持续发展的高绩效团队也需要定期改变节奏。我们推荐两种方法来打破节奏，经常改变事情。

打破节奏的第一个实践在敏捷中被称为“松弛周”懈怠周是一个机会，可以休息一周，也许两周，给人们一个机会去努力实现那些似乎不断被推到一边去完成里程碑和时间表的次要目标。空闲周的常见活动可以包括花费更多时间投资于改进开发流程和工具，减少产品中的技术债务，重构或重写产品中让人们慢下来的有问题的部分，以及基于团队正在考虑使用的新技术进行培训和应用构建。我们通常会在假期前后有几周空闲时间，因为团队无论如何都不会全力以赴(7 月和 12 月)，然后在一年中再找几次时间将空闲时间插入日程安排中。

当团队知道不景气的一周将定期到来时，他们可以将针对该不景气的一周的工作项目排列在待办事项列表中——这些工作似乎没有得到足够高的优先级，不能以其他方式安排，但团队仍然同意值得做。

在不忙的一周，我们通常会停止第 4 章中描述的许多 scrum 过程:与业务保持一致。我们仍将举行每日站立，但想法是改变节奏，让人们从“照常营业”中休息一下当你开始下一次冲刺的时候，确保你像往常一样回到工作中。

改变节奏的第二个方法是定期举行黑客马拉松。这些都是典型的短期节奏变化——可能两到三天，一年重复三到四次。这些以不同的方式打破了节奏——在黑客马拉松中，团队被鼓励在一些不同的问题领域或想法上工作，但比他们通常工作的方式更激烈。因此，松弛的一周是放慢速度的时候，而黑客马拉松是强调在短时间内加速并在需要进行架构尖峰的领域取得大量进展，以了解团队是否应该在该方向上进一步投资。在黑客马拉松期间，团队通过在黑客马拉松期间完成的事情方面设定更积极的目标来鼓励更长的工作时间，但是额外的期望是，在黑客马拉松期间完成的任何事情都是探索性的、较低质量的和“黑客式的”，并且将在黑客马拉松之后被丢弃(尽管黑客马拉松可能会产生新的产品想法或方向，然后以适当的更高质量的方式重新实现)。黑客马拉松是快速而肮脏地改变工作的好机会，也许在这个过程中发现了重要的新产品方向，可以在以后以更高质量的方式追求。

对于黑客马拉松来说，团队基本上会考虑一些他们感兴趣但认为风险高的领域或特性，作为他们常规冲刺计划的一部分。但是他们想花大量时间研究这个新方向。然后，他们会安排 2 到 3 天的时间来完全转换到新的方向，并看看在这段时间内他们能以快速和肮脏的方式证明多少。

一个团队的半年时间表可能是这样的。该计划将常规节奏的两周冲刺与较慢节奏的放松周和较快节奏的黑客马拉松周交替进行:

*   淡季

*   四次两周冲刺

*   半周黑客马拉松

*   四次两周冲刺

*   淡季

*   四次两周冲刺

*   半周黑客马拉松

## 现场直播和可持续发展

最容易使团队从可持续的步调转变为不可持续的步调，并且最容易导致精疲力竭的事情之一就是现场问题。现场问题会扰乱睡眠和时间表，因为团队疯狂地试图找出产品在生产中不工作的原因。

如果你足够幸运，从事一个没有现场组件的产品，那么你可能与这个主题无关。但是在一个以四个九的可用性为目标的 24 小时全天候服务的世界里，现场问题可能会导致团队崩溃。

我们将简要分享 Bing 在管理 live site 方面的一些最佳实践，并确保它不会导致您的团队不可持续的速度。

在某些团队中，可能会有一个较小的运营团队来处理服务的所有现场问题。但在 Bing 和许多其他在线工程组织中，让所有工程师见证并解决现场可能出现的问题是一个重要的学习机会，从长远来看，这将带来更好的代码和更好的架构。没有什么比凌晨 2 点起床去修复由您签入的错误代码或您认为可以扩展但现在在生产中无法正常工作的架构引起的问题更能激励您下次找出更好的方法。

为此，工程师通常会参加一个轮岗计划，在特定的一周内“随叫随到”，并在该周内第一时间响应任何现场问题。通常，在“待命”周之前会有一个额外的周，在那里他们为待命的人“待命”。这使得值班开发人员能够知道前一周发生了什么，因此当他们完全负责下一周的问题时，对网站上发生的事情的了解是连续的，因为前一周的问题很容易在下一周再次出现或引起一些新的副作用。

随叫随到的开发人员应该有大量关于如何诊断、检测和解决系统各部分问题的可用文档。准备了诊断工具和使用它们的行动手册，这样即使是团队中的新开发人员也可以遵循一组基本步骤来确定哪里出了问题，如果不是根本原因，至少可以快速修复，将站点恢复到以前的运行状态。

在 Bing 中，我们还密切关注三个指标。首先是检测时间。这衡量了我们从现场出现问题到自动化系统或客户发现它所花的时间。我们衡量的第二个指标是参与时间。这衡量了我们从知道出了问题到让工程师开始找出问题所在所花的时间。我们测量的最后一个指标是缓解时间。这衡量了我们应用足够的修复(有时是快速修复或回滚)以解决问题所花费的时间。

所有三个指标，即检测时间、参与时间和缓解时间，都受到监控并不断讨论，以找出缩短时间的新方法。目标是每个季度减少和提高这三个数字。为了缩短检测时间，我们通常会部署额外的监控或找到新的方法，以便在潜在故障部署到现场之前检测到它。在接洽过程中，我们通常会改进流程，以确保合适的工程师尽快接听电话。为了及时缓解，我们设计了快速回滚或关闭生产中导致问题的新功能的新方法。

每周对上周发生的所有现场问题进行事后分析，并尝试找出具体的对策来防止它们再次发生，这一点非常重要。这些措施可能包括从架构变更到流程变更，从更好的监控到待命工程师的附加文档。

在事后分析过程中，我们会根据客户影响和检测/参与/缓解的时间长度，按严重性对现场事件进行优先排序。进一步调查了对客户的影响，以了解有多少用户受到该问题的影响，以及对网站用户体验的实际影响。现场事件的根本原因将由工程团队确定。然后，要修复的项目将被识别并跟踪，直到它们被修复。

如果严格遵循现场培训、工程师参与、文档、轮换、事后检查和维修项目跟进，则持续现场问题的不可持续速度可以大大降低。它提供了一个良性循环，确保团队中的每个人都仔细考虑他们用来最小化那些深夜电话的代码和架构。

## 可持续发展步伐和多种发展地域

可持续发展面临的最后一个挑战是与多个发展地区合作。如果设置正确，这可能是可持续的，但如果设置错误，这可能是一个可持续的噩梦。

在 Bing，我们与印度和中国的开发团队一起工作，这两个地方与美国西雅图的办公室位于完全不同的时区。对于团队来说，跨越这些时区工作会变得很痛苦，并导致不可持续的快节奏和不健康的慢节奏。

当存在“主团队”和“远程团队”的概念时，不可持续的快节奏通常会发生，远程团队所做的一切都必须得到主团队的批准。这导致远程团队无所事事，等待他们想要做的工作获得批准，而主团队感到不知所措，无法以可持续的速度工作，因为他们必须在工作日的晚上或清晨持续进行远程工作。

当然，解决这个问题的方法是不要有主团队和远程团队的概念。所有的团队都应该被授权完全拥有他们正在工作的领域，并且能够在他们自己的工作时间做出他们自己的选择。集成点可以通过界面设计来指定，并在不同团队拥有的系统区域之间建立自然的信息传递点和关注点。

### 远程团队可以实现更可持续的速度

多个地区的团队也可以帮助提高现场工程的可持续性。一个地理位置的团队可以在白天管理现场，而另一个地理位置和时区的团队可以得到一些急需的休息。然后，当太阳在他们的地理位置升起时，团队可以交换帮助，接管现场的责任。

## 结论

在第 8 章“可持续发展”中，我们讨论了如何确定你的工作速度是太快还是太慢，以及如何上下调整节奏。我们将把这个敏捷原则改写为“敏捷过程促进**可持续发展**。发起人、开发人员和用户应该能够无限期地保持一个恒定的速度，但是偶尔上下改变速度可以产生更好的结果。”我们讨论了如何设定目标，并确保目标既有足够的雄心，又可以实现。我们谈到了团队参与的重要性，以使进度达到正确的水平。我们还谈到了在开发时间表中加入一些节奏变化的重要性，用空闲周来放慢节奏，用黑客马拉松来加快节奏。我们还讨论了在管理现场问题和与多个地区合作时围绕可持续发展步伐的特殊问题。

在第 [9](09.html) 章“技术卓越”中，我们将讨论在软件工程中的卓越投资如何优化开发人员的生产力，同时最大化数据的价值。