# 十一、自组织团队

> ****最佳架构*******需求*** *，以及* ***设计*** *从* ***自组织团队*** 。**
> 
>  ***—agilemanifesto.org/principles***

 **自上而下的计划过程和分级团队控制给管理层带来了某种安慰。然而，这种温暖的感觉只有在高层才会真正感受到，而在底层执行实际工作的人很少感受到。这个原则没有什么太神秘的地方——在敏捷团队中，团队内部的低延迟沟通与实验、犯错和过程修正的许可相结合，使得组件、API、数据结构等的设计恰好是手边任务所需要的，并且是及时的。有时候，团队内部发生的事情对管理层来说并不明显，尽管在第 [4](04.html) 章中讨论的技术:与业务保持一致对帮助管理层重新获得他们在瀑布消失时失去的温暖感觉大有帮助。

在数据项目的环境中，团队通常围绕数据领域组成，因此团队成员对数据的内部细节最有经验和知识——远远超过任何外部人员或管理链上的高层人员。由于数据是团队能够完成什么以及如何完成的一个重要因素，让数据专家在团队流程、计划和执行的所有方面发出主要声音是非常有意义的。

在*敏捷方法的经验发现*中，林德瓦尔等人 <sup>[1](#Fn1)</sup> 将敏捷方法描述为:**迭代**、**增量**、**自组织、**和**突现**。*自组织*他们定义为:团队有自主性组织自己以最好地完成工作项目；*紧急* as:技术和需求被允许在产品开发周期中出现。这两个定义都指出缺乏自上而下的计划、设计和执行方法；但是它们并不意味着团队决定了高层次的任务或目标。自组织团队不是完全自主的团队。在某种程度上，项目、目标和业务必须由一些外部机构决定。自组织的本质是自主决定事情如何进行。此外，没有过程，团队就无法运作。流程*使*产生生产力。这对于一些人来说可能很难理解，因为他们可能认为过程是一个障碍——一个不必要的管理层，位于更重要的编写代码和训练模型的工作之上。数据团队的经理必须找出如何通过有效的流程来支持他们的团队。

## 团队组成

在 Bing 和其他地方的项目中，我们观察到几种类型的团队组成，都有不同的优缺点。这些团队组成类型包括**平衡能力、混合能力、分层能力**和**外科医生团队**。

当团队成员实际上可以互换时，平衡的能力就会出现。如果个人 A 或个人 B 选择了一项任务，结果并没有真正的不同。只有这些人组成的团队是非常不寻常的；这也是不可取的。考虑到您希望能够覆盖整个堆栈，您需要为您的团队配备神话般的全堆栈数据科学家，这几乎是一项不可能完成的任务。在组建团队时，在短跑的计划过程中，以及团队的日常运作中，认识到这一点非常重要。

混合能力在一个同样熟练但互补的开发人员团队中。这可能是最有效的团队组成。有些人具有更深层次的数据科学专业知识，有些人更侧重于后端工程，等等。如果团队成员对自己的领域充满热情并相互支持，那么自我学习和团队学习就会发生。混合能力团队的关键是确保知识和诀窍不会被具有相似能力的个人所困，并在团队中不断社会化，尤其是对于具有不同能力的个人。例如，以数据科学家为中心的团队成员应该定期与以后端为中心的团队成员配对——要么并肩编码，要么至少彼此分享设计和架构见解和想法。专业化的能力可以在团队中产生巨大的成果和巨大的动力，但是隐藏的知识和工具可能会导致灾难和生产力的缺乏，尤其是当有人离开的时候。当具有不同能力的个人一起解决同一个问题时，往往会产生最好的想法——数据科学家通常会有后端工程团队没有考虑到的洞察力，反之亦然。

*分层能力*通常在团队包含初级和高级人员时出现。再说一次，这是一个团队中非常正常且有建设性的差异。年长的个人可以得到更多从互动中获得经验的年轻成员的支持。此外，在机器学习和数据科学的快节奏世界中，新的大学毕业生尤其是如何解决特定问题的新规范的伟大传播者。他们能以积极的方式帮助改变现状。

**外科医生团队*以一小群高绩效的个人为中心。外科医生就像手术室里的外科医生——是取得进展的主要渠道，也是其他人关注和追随的对象。在数据工程项目中，这可能是一个非常难以有效获得成果的团队。过多的数据集中在一个人身上，在典型的数据工程项目中，数据过于密集，一个人无法充分考虑。虽然外科医生可能能力很强，但他们在团队过程中的中心地位会阻碍团队作为一个整体发挥其全部潜力。*

 *## 团队是由个人组成的

在团队中工作的部分乐趣在于你将与之共事的各种能力和个性。我们现在考虑一些例子——在某种程度上是漫画式的——在面向数据的项目中经常出现的个人类型:新雇员**、**、**熟练工程师、**哲学家工程师、**、**有原则的应用科学家、**、**外科医生、**、**极简主义者、**和**越野者**。**

刚刚从研究生院获得机器学习或人工智能相关领域博士学位的新员工是新方法、新观点和能量的巨大来源。这位团队成员一直生活在尖端技术的世界中，没有受到行业务实摩擦的阻碍，一直在优化复杂问题的解决方案，而不是运输产品所需的工程矩阵。他们带来新的见解，可以挑战团队。他们通常在产品质量代码方面没有什么经验，所以他们需要完全接受团队文化所规定的软件工程实践。在一个开放和热情的团队中，你会发现许多候选人对指导这样的新员工感兴趣。

更资深的熟练工程师是一个可靠的贡献者。他们可能在机器学习方法方面经验不足，但在确保设计考虑生产问题(如扩展、测试和部署自动化)方面做出了巨大而重要的贡献。他们在协作方面非常有经验，尤其是与那些在整个系统中提供超出熟练工人权限的功能的贡献者。通过学习 ML，他们可能对一些严肃的职业发展感兴趣，但即使不是，他们对团队来说也是无价的。

*哲学家工程师*不太受交付速度和项目背后的业务的激励，但是非常受确保数据模型、架构、计划和项目的任何其他声明方面被“正确”完成的激励他们对问题的自然和直观的分解有很强的感觉(通常以独立于计算最优方法的方式)。他们会回避任何由组织结构而不是问题的本质形成的架构的迹象。当他们看到语义过载的数据结构时，他们的手心会冒汗。他们可能会被设计所困扰，需要学会平衡他们的兴趣和团队所需的速度。他们很可能在重构不适合他们的代码上进行原则性的但意想不到的投资，因此经理们需要考虑何时以及如何鼓励这一点或将精力引向其他地方。第 [8](08.html) 章中的可持续发展理念:可持续发展可以对此有所帮助。

有原则的应用科学家有点像哲学家工程师——他们更关心把事情做好，而不是其他产品考虑事项——但他们痴迷于机器学习的细节。他们在确保机器学习的所有小细节都得到关注，以便团队从他们积累的智慧中获得最大收益方面非常宝贵。初级和经验不足的 ML 从业者最好听听他们的建议，以获得广泛的行业技巧:如何清理和平衡数据集，如何归一化特征值，如何分析离群值以获得分类器改进的线索，等等。

*外科医生*是一个高效、有魅力、有原则的开发人员，他对团队有着极大的影响力，主要是因为他们的工作速度。 <sup>[2](#Fn2)</sup> 通过多产，他们参与到产品中的许多组件中。它们是一种幸事，因为它们使事情保持运转(有时速度惊人)，但它们也可能带来挑战，因为它们会积累瓶颈，并在很大程度上决定其他人应该做什么。在最好的情况下，外科医生为团队带来了明显的净收益。在最糟糕的情况下，他们的负面影响大于他们专业知识的好处，团队最终被赶下了一条与意志力量关系更大、与原则关系更小的道路。

极简主义者发现他们在一个团队中，机会越来越多，工作越来越多，团队无法有效完成。他们变得专注于确保完成分配给他们的工作，但不愿意误入未知领域或承担不属于他们的问题。他们缺乏数据科学家天生的探索天性，也不觉得自己有能力承担可能会失败的未知任务。他们喜欢结构良好的工作，在这种工作中，责任是外部化的。

*越野车*无法停止原型制作。他们经常带着全功能的原型出现在最初并不是项目主旨的中心区域，但是仅仅因为他们的存在，就影响了团队的方向。他们倾向于请求原谅，而不是许可。他们不觉得受到“官方”愿景或使命声明的限制，并通过他们的热情为两者做出贡献。他们的原型可以给团队一种可能方向的感觉，但是必须小心管理，因为原型上的需求通常不代表产品的真实情况。越野者经常可以生成原型，当实际暴露于真实数据时，这些原型不能很好地扩展。

## 团队中需要鼓励的个人特质

从这些个人漫画中，我们可以提炼出一些值得鼓励的关键特质:**沟通**、**以小见大**、**虚心**和**公平参与**。

*沟通是关键*:一个好的沟通者知道如何表达当前状态，如何参与建设性的小组讨论，以及如何从他人那里获得信息，无论他人的沟通能力如何。他们知道团队内部、团队之间以及管理链上的沟通方式。一个好的沟通者明白清晰是一个关键的领导素质，并在个人层面上证明这一点，同时也期望其他人，尤其是那些处于领导地位的人。他们培养自己和团队内部的沟通技巧。

将小与大联系起来:这一特点导致对数据进行抽样以了解总体情况，甚至为看起来微不足道的方法编写单元测试以确保代码的基础是牢固的，在关注大局的同时关注细节，并帮助团队成员负起责任。提升的职位或领导角色不应该意味着只考虑高层次、高规模的概念。

*保持开放的心态*:当首席执行官塞特亚·纳德拉开始致力于改变微软的文化时，他引入了“增长思维”的理念 <sup>[3](#Fn3)</sup> 拥有一个成长的心态意味着你能够倾听，你能够从别人的角度考虑问题，你知道假设如何影响你的思考和决策。没有这种关键的态度，团队会变得功能失调。观点变得根深蒂固，信任丧失，士气受挫。

公平参与:一个自组织的团队在很大程度上应该是自给自足的。这意味着需要处理一系列完整的工作。有了成长的心态，这就带来了指导的机会(你可以帮助我理解系统中我不太熟悉的部分)，构建生产力工具以支持重复性任务的动机(你和我都不喜欢做某事，所以我们可以同意构建一个工具来自动化它是我们时间的一个很好的投资，并将使我们在未来更有生产力)，以及更容易的交互(我不需要因为指出你在某个领域没有尽自己的职责而感到难过)。经理不希望不得不提醒不情愿的团队成员参加，同事也不希望经历尴尬的会议，让他们的同事感到羞愧。

在你团队的兴趣和激情中总会有局外人。在某些情况下，这些将是互补的。例如，Matt 真的很喜欢标记数据和构建工具，以便更容易地查看、交互和注释数据，但他发现有许多人对此不太感兴趣——这没关系。许多敏捷过程指南假设所有团队成员都是可互换的。现实中(当然)并非如此。对团队来说，重要的是不要把重要的信息、代码和技术锁在一个工程师的脑袋里。一个好的自治团队将确保这不会发生。有助于防止这种知识隔离的行为通常会使所涉及的代码和工作流社会化。其中包括以下内容:

*   公开审查和签入代码，这样其他人就有机会看到代码，并且最好能理解它的设计。Azure DevOps 提供了很好的工具来对 pull 请求进行代码审查，这样每个人都可以评论和查看进入系统的代码。

*   确保所有代码都是在服务器上构建的，这样就不会有特殊的配置或对个人设置的其他依赖，从而阻止其他人轻松使用代码。这在第 [3](03.html) 章“连续交付”中有更详细的讨论。

*   传播、演示和支持代码、工具和过程将提供一次火的考验。如果没有人能被说服去使用某样东西，那么也许它还不能满足明确的需求。

## 跨多个自组织团队进行管理

Bing 的本地搜索由几个团队组成，他们都遵循敏捷流程，并以自组织的方式执行。我们发现，在一些领域，建立共享的实践和工具，以及在来自合并团队的更广泛的工程师池中分配某些任务是有利的。这些需求中的一些可以利用一个中心工具，例如，如果单元测试需要一定级别的代码覆盖率，那么没有必要为每个团队发明一种新的方法来度量这一点。

由于团队集体对产品负责，所以支持生产系统的进展和维护的基本生命周期元素至少为所有团队成员所知。这些基本知识有助于保持对产品所有组件的总体敏感性，但也意味着任何个人都可能导致任何数量的故障。例如，任何团队成员都可以使用一个通用工具来立即解决数据中的错误，并允许他们纠正任何正式或非正式报告的数据。这种类型的知识——包括部署、回滚、维护构建、确保代码库的完整性等等——对于 DRI <sup>[4](#Fn4)</sup> 角色来说是必要的。

编码最佳实践和风格需求主要是通过使用特定的工具来实现的。IDE 中使用了编码效率工具——在本例中是 ReSharper——同时部署了其他代码策略检查系统，以防止代码在不符合特定规则的情况下被检入。当涉及到跨团队共享和重用代码时，这些风格策略是很重要的，并且支持将来的工程师，他们必须在原作者离开后很长时间内维护系统。代码不仅应该是功能性的；应该是*可以理解的*。代码本身可以用一种不透明的方式编写(抽象的变量名、无信息的方法名、糟糕的格式、很长的行、缺少名称空间结构等等)。)更糟糕的是，缺少注释和文档。最好的代码不需要文档，而是“自文档化”这并不总是可能的，因此关注风格的细节将有助于后来的工程师理解。代码风格增加未来价值。

## 授权团队推动团队发展和产品进化

我们在 Bing 本地搜索团队的经历让我们对团队内部自治的价值有了一些有用的见解，尤其是在涉及数据密集型项目时。

数据项目不断地*展现关于问题空间、数据以及实现目标的特定方法的功效的新知识*。在团队之外有效地传达这些信息是至关重要的，以确保进度是透明的。应该测试衡量标准的沟通难易程度——它们对您要向其汇报的人是否有直观的意义？迭代应该足够短，以便能够产生一个趋势——这是进展的关键表达，也是帮助其他人了解某件事情何时完成的有用方式。

与正在处理的数据和项目的特定目标相关的发现可以为新功能提供大量的*想法。团队可以支持这些数据驱动的见解，并帮助推动更高产品级别的创新。当致力于为当地企业提供营业时间时，我们了解了很多关于企业改变营业时间的频率(如其网站上的营业时间变化所示)。虽然个别企业不会经常改变营业时间，但在任何时候，一个国家内都会有大量企业改变营业时间。此外，一些特定消费领域的连锁企业，如 DIY 和税务服务，将根据季节性时间表改变所有商店的营业时间。当我们将从网络上提取的信息与从传统来源获得的替代信号进行比较时，我们发现了差异。有时，企业会在通过其他渠道更新数据之前，更改网站上的时间。在其他情况下，他们会先通过他们的搜索引擎优化渠道，然后在网上改变他们的工作时间。我们突然想到，有一个机会将这些差异告知企业，并询问他们哪个版本的工作时间是正确的。这是作为一项功能提出的，并与一个合作伙伴团队合作，交付给小企业主的 Bing 体验。*

积极热情的团队可以*自学*——组织纸质阅读小组，集体参与在线课程*，*并展示和参加以数据为导向的深度潜水或相关兴趣主题的旅行。对教育的兴趣非常重要。这不是一个简单的自我提高的问题，而是团队跟上新研究、开源模型等等的一个很好的方法。激发这类活动的激情通常来自个人，但做这些活动的许可来自自组织团队的文化。

团队发展他们自己的操作文化，主要受团队成员和他们的价值观的影响，以及他们对支持敏捷工程的各种工具和过程的经验和舒适度。三到五个人的团队和五到十个人的团队之间似乎有非常明显的区别。在较小的团队中，管理团队的个人几乎肯定也是一线工程师:像其他人一样编写代码、审查代码等等。因此，尽可能地消除妨碍编码的进程“开销”可能是有吸引力的。然而，在稍微大一点的团队中，经理作为开发人员可能扮演不太重要的角色，并在设计、架构、度量和团队功能等主题上花费更多的时间。因此，较大团队的经理可能更倾向于将真正的努力投入到使团队高效的过程中。

团队之间的互动*不一定以相同的方式工作，但有助于同一项目的协作，这突出了良好的沟通技巧的重要性以及数据分析和见解在达成一致方面的作用。*

## 好事是如何出现的

让我们先把语义弄清楚。“浮现”通常意味着之前被遮挡的东西进入视野。这不是我们在这里讨论的进程的性质。相反，我们抓住了一个想法，即一个工件的形式(计划、设计、架构)是多个个体随时间交互和迭代的产物。在敏捷开发领域，我们正在利用两个关键的想法:首先，一个自组织的团队可以为自己确定最佳的个人子集，当他们变得重要时，在特定的领域驱动设计和其他概念性的工作；第二，设计将通过陈述、批评和调整的反复来改进。

驱动设计的合适的个人子集随着上下文、组件的相对重要性和工作状态而变化。能够确定正在讨论的设计是否是关键的(例如，面向客户，与将来很难修改的组件相关，等等)。)极大地通知了过程。最重要的设计不仅应该从团队内部获取信息，还应该从合作伙伴、客户、与假定的解决方案平台一起工作的其他团队中的同事等处获取信息。

以一个项目为例，该项目涉及确定逻辑文档表示的低级序列化。在开发推断逻辑文档结构的系统时，团队内部创建了一个初始实现。这种早期的实现被证明对开发阶段非常有用，在开发阶段，检查数据并将其与早期模型的结果进行比较是一个优先事项。它还与几个现有的工具保持一致，因此很容易集成到现有的实践中。然而，当向合作伙伴交付数据产品时，很明显，在反序列化和枚举内容方面，表示的性能远比我们在早期开发阶段所欣赏的设计质量更重要。通过团队内部的讨论，设计了一种新的、紧凑的格式，这最终成为数据的运输工具。附带的设计包括一个与基本表示交互的 API，它被有意地限定了范围，以排除我们预期会有用的功能，但消费者没有表达出对这些功能的需求。我们进行了大量的讨论，以确保我们的一般方法在需要这些预期功能时可以扩展。

我们经常发现，只有通过实现，最好的设计才会出现，所以探索性的实现经常发生在边缘，最终至少会产生最初的设计想法。各种工程决策(如项目中使用的平台和编程语言)将影响任何设计的细节，因此通过实现进行设计不仅是探索设计空间的有效方式，也是在过程中实时整合这些外部因素的约束和机会的有效方式。

我们经验的另一个关键部分是我们生态系统中组件之间的关系。如果一种新的数据类型对团队经常执行的工作流的关键内部工具提出了挑战，那么考虑改进工具而不是扭曲设计来适应已建立的系统是很重要的。这种类型的灵活性在某种意义上是敏捷性的核心原则。

## 培养一个自组织团队

球队的自主权不是简单地通过法令就能实现的。你不能让一个团队自己离开，然后断言它现在是自组织的。它需要团队所有成员的某种态度，以及团队中任何管理角色或团队外任何层级领导角色的指导。作为一个自组织团队的经理，你应该密切关注你完成事情的过程，以及如何发展和改进事情，以便从与你一起工作的人那里获得最大收益。

教导一个以敏捷方式运作的团队最难的原则之一是“我们都在一起”的原则。个人可能习惯于一种模式，在这种模式下，他们被告知要做特定的任务，并且他们高质量地按时完成这些任务。在敏捷中，重要的可交付成果不是特定的任务，而是团队目标或可交付成果。个人需要从他们的具体任务中抬起头来，看到更大的画面，并找出他们的贡献如何帮助实现更大的目标。他们需要愿意投入到其他任务中去，帮助团队实现他们的目标，即使这些任务不在他们的专业领域或舒适区。他们需要让自己的大脑充分参与到会议的规划中，并在头脑中保持更大的视野。他们需要对评估和完成冲刺目标更加负责。

团队经常会经历一段尴尬的时期，在这段时间里，他们没有完全投入到他们的大脑中，仍然以任务和个人成就为导向，而不是考虑更大的可交付成果以及团队如何才能完成它们。在此期间，重要的是让团队在一定程度上自由活动，避免参与和微观管理团队做的每一项任务。

发生这种情况的一种自然方式是，团队遵循第 [4](04.html) 章中描述的过程:围绕“冲刺目标”与业务保持一致，团队在最初几次冲刺中不可避免地不会达到他们的许多目标。重要的是要清楚团队没有达到他们的目标，并鼓励团队更加努力地思考如何设定在冲刺阶段可以实现的团队目标。这个练习将帮助团队更加努力地进行评估、计划和组织，一次又一次地完成更大比例的冲刺目标。

## 工程原理和概念完整性

到目前为止，我们描述的一般方法——设计来自团队中的交互和迭代过程——似乎与 Fred Brooks 的《人月神话》中所表达的众所周知的替代方法相冲突。特别是，负责系统设计的首席架构师或首席程序员的概念似乎与敏捷开发相冲突。正如所有敏捷的事情一样，过程本身是灵活的，所以我们更愿意考虑一系列的团队类型。一个极端是自顶向下的首席架构师模型。另一个是完全流动的、涌现的模型。现实是，团队总是有内部或外部的监督，这是处于这些职位的个人(经理、技术领导等)的判断问题。)来决定自我驱动的设计应该在何时以及如何发生。一些更复杂的系统可能需要比其他系统更多的监督。概念的完整性当然很重要；因此，就像我们在本书中触及的许多主题一样，这是另一项非编码技能，每个人都应该至少意识到这一点，并且最好弄清楚他们如何做出贡献。

我们确实感到需要更多控制的一个领域，是在多团队产品组织中团队和跨团队采用的工程原则。我们已经在第 9 章中讲述了这些原则:技术卓越。

## 结论

在第 [11](11.html) 章，“自组织”团队中，我们已经描述了在许多从事数据项目的团队中可以发现的个性。我们已经强调了团队中的多样性和随之而来的动态，以及这如何有助于建立、迭代和改进团队产生的设计和其他声明性工件的过程。

在第 [12](12.html) 章“调优和调整”中，我们将讨论回顾和反思过去进展的技巧，目的是提高效率。

<aside class="FootnoteSection" epub:type="footnotes">Footnotes [1](#Fn1_source)

[T2`www.cs.umd.edu/~mvz/pub/agile.pdf`](http://www.cs.umd.edu/%257Fmvz/pub/agile.pdf)

  [2](#Fn2_source)

比较在线和离线编程性能的探索性实验研究的 10 倍程序员(Sackman，Erikson 和 Grant，1968)。

  [3](#Fn3_source)

成长心态是斯坦福大学心理学教授卡罗尔·德韦克创造的一个术语，在她的书《心态:新成功心理学》中有所描述。

  [4](#Fn4_source)

指定的负责人:在负责实时生产代码的团队中，这是一种常见的做法，例如运行在线搜索引擎或其他服务的团队，让成员轮流担任这一角色，这要求他们在出现严重的系统中断和其他影响客户的问题时随时待命。

  [5](#Fn5_source)

这更接近于涌现的艺术概念。

 </aside>***